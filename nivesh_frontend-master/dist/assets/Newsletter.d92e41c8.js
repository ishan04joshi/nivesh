import{u as S,a as f,r as i,j as l,B as w,S as g,b as t,H as x,c as p,I as C,l as j,s as y}from"./index.9689f1a6.js";const v=()=>{const s=S(),{user:r}=f(),[c,n]=i.exports.useState(!1),[u,h]=i.exports.useState(""),[a,m]=i.exports.useState(""),b=async()=>{var o,d;try{if(!u||!a)return s({title:"Fill all fields"});n(!0);const{data:e}=await y(u,a);if(n(!1),e.error)return s({title:"Error",description:e.message,status:"error",duration:5e3,isClosable:!0,position:"bottom-right"});s({title:"Success",description:e.message,status:"success",duration:3e3,isClosable:!0,position:"bottom-right"})}catch(e){n(!1),console.error(e),s({title:"Error",description:((d=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:d.message)||"Something went wrong",status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}};return l(w,{sx:{minHeight:"90vh",display:"flex",flexDirection:"column",pb:4,px:2,py:4},children:[l(g,{direction:"row",justifyContent:"space-between",children:[t(x,{color:"gray.600",children:"Send Newsletter"}),!(r!=null&&r.isAdmin)&&t(p,{colorScheme:"blue",onClick:onOpen,children:"Request New Statement"})]}),l(g,{spacing:3,bg:"white",rounded:"lg",p:2,mt:6,children:[t(C,{placeholder:"Subject",onChange:o=>h(o.target.value)}),t(j,{theme:"snow",value:a,onChange:m})]}),t(p,{variant:"solid",colorScheme:"blue",mt:4,justifyContent:"flex-end",w:"fit-content",isLoading:c,isDisabled:c,onClick:b,children:"SEND"})]})};export{v as default};
